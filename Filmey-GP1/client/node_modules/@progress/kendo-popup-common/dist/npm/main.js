'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var alignPoint = {
    "bottom": "bottom",
    "center": "center",
    "middle": "middle",
    "left": "left",
    "right": "right",
    "top": "top"
};

var align = function (options) {
    var anchorRect = options.anchorRect;
    var anchorAlign = options.anchorAlign;
    var elementRect = options.elementRect;
    var elementAlign = options.elementAlign;
    var margin = options.margin; if ( margin === void 0 ) margin = {};
    var anchorHorizontal = anchorAlign.horizontal;
    var anchorVertical = anchorAlign.vertical;
    var elementHorizontal = elementAlign.horizontal;
    var elementVertical = elementAlign.vertical;

    var horizontalMargin = margin.horizontal || 0;
    var verticalMargin = margin.vertical || 0;

    var top = anchorRect.top;
    var left = anchorRect.left;

    if (anchorVertical === alignPoint.bottom) {
        top += anchorRect.height;
    }

    if (anchorVertical === alignPoint.center || anchorVertical === alignPoint.middle) {
        top += Math.round(anchorRect.height / 2);
    }

    if (elementVertical === alignPoint.bottom) {
        top -= elementRect.height;
        verticalMargin *= -1;
    }

    if (elementVertical === alignPoint.center || elementVertical === alignPoint.middle) {
        top -= Math.round(elementRect.height / 2);
        verticalMargin *= -1;
    }

    if (anchorHorizontal === alignPoint.right) {
        left += anchorRect.width;
    }

    if (anchorHorizontal === alignPoint.center || anchorHorizontal === alignPoint.middle) {
        left += Math.round(anchorRect.width / 2);
    }

    if (elementHorizontal === alignPoint.right) {
        left -= elementRect.width;
        horizontalMargin *= -1;
    }

    if (elementHorizontal === alignPoint.center || elementHorizontal === alignPoint.middle) {
        left -= Math.round(elementRect.width / 2);
        horizontalMargin *= -1;
    }

    return {
        top: top + verticalMargin,
        left: left + horizontalMargin
    };
};

function addScroll(rect, scroll) {
    return {
        top: rect.top + scroll.y,
        left: rect.left + scroll.x,
        height: rect.height,
        width: rect.width
    };
}

function applyLocationOffset(rect, location, isOffsetBody) {
    var top = rect.top;
    var left = rect.left;

    if (isOffsetBody) {
        left = 0;
        top = 0;
    }

    return {
        top: top + location.top,
        left: left + location.left,
        height: rect.height,
        width: rect.width
    };
}

function ownerDocument(element) {
    return element.ownerDocument || element.document || element;
}

var getWindow = function (element) { return ownerDocument(element).defaultView; };

var getDocument = function (element) { return ownerDocument(element).documentElement; };

var cachedWidth = 0;

function scrollbarWidth() {
    if (!cachedWidth && typeof document !== 'undefined') {
        var div = document.createElement("div");

        div.style.cssText = "overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";
        div.innerHTML = "&nbsp;";
        document.body.appendChild(div);

        cachedWidth = div.offsetWidth - div.scrollWidth;

        document.body.removeChild(div);
    }

    return cachedWidth;
}

function windowViewport(element) {
    var win = getWindow(element);
    var document = getDocument(element);
    var result = {
        height: win.innerHeight,
        width: win.innerWidth
    };

    if (document.scrollHeight - document.clientHeight > 0) {
        result.width -= scrollbarWidth();
    }

    return result;
}

var boundingOffset = function (element) {
    if (!element.getBoundingClientRect) {
        var viewport = windowViewport(element);
        return {
            bottom: viewport.height,
            left: 0,
            right: viewport.width,
            top: 0
        };
    }

    var ref = element.getBoundingClientRect();
    var bottom = ref.bottom;
    var left = ref.left;
    var right = ref.right;
    var top = ref.top;

    return {
        bottom: bottom,
        left: left,
        right: right,
        top: top
    };
};

var offsetParent = function (element) {
    var offsetParent = element.offsetParent;

    while (offsetParent && offsetParent.style.position === "static") {
        offsetParent = offsetParent.offsetParent;
    }

    return offsetParent || getDocument(element);
};

var isBodyOffset = function (element) { return (offsetParent(element) === element.ownerDocument.body); };

var rectOfHiddenElement = function (element) {
    var ref = element.style;
    var display = ref.display;
    var left = ref.left;
    var position = ref.position;

    element.style.display = '';
    element.style.left = '-10000px';
    element.style.position = 'absolute';

    var rect = element.getBoundingClientRect();

    element.style.display = display;
    element.style.left = left;
    element.style.position = position;

    return rect;
};

var offset = function (element) {
    var rect = element.getBoundingClientRect();
    var left = rect.left;
    var top = rect.top;

    if (!rect.height && !rect.width) {
        rect = rectOfHiddenElement(element);
    }

    return {
        top: top,
        left: left,
        height: rect.height,
        width: rect.width
    };
};

var parents = function (element, until) {
    var result = [];
    var next = element.parentNode;

    while (next) {
        result.push(next);

        if (next === until) { break; }

        next = next.parentNode;
    }

    return result;
};

function scrollPosition(element) {
    var documentElement = getDocument(element);
    var win = getWindow(element);

    return {
        x: win.pageXOffset || documentElement.scrollLeft || 0,
        y: win.pageYOffset || documentElement.scrollTop || 0
    };
}

var elementScrollPosition = function (element) {
    if (element === (element.ownerDocument || {}).body) {
        return scrollPosition(element);
    }

    return {
        x: element.scrollLeft,
        y: element.scrollTop
    };
};

function parentScrollPosition(element) {
    var parent = offsetParent(element);

    return parent ? elementScrollPosition(parent) : { x: 0, y: 0 };
}

var position = function (element, parent) {
    var win = getWindow(element);
    var elementStyles = win.getComputedStyle(element);
    var offset$$1 = offset(element);
    var parentElement = parent || offsetParent(element);

    var ownerDocument = element.ownerDocument;
    var useRelative = parentElement !== ownerDocument.body && parentElement !== ownerDocument.documentElement;

    var parentOffset = { top: 0, left: 0 };

    if (elementStyles.position !== "fixed" && useRelative) {
        var parentStyles = win.getComputedStyle(parentElement);

        parentOffset = offset(parentElement);
        parentOffset.top += parseInt(parentStyles.borderTopWidth, 10);
        parentOffset.left += parseInt(parentStyles.borderLeftWidth, 10);
    }

    return {
        top: offset$$1.top - parentOffset.top,
        left: offset$$1.left - parentOffset.left,
        height: offset$$1.height,
        width: offset$$1.width
    };
};

var offsetParentScrollPosition = function (offsetParentElement, element) { return ( // eslint-disable-line no-arrow-condition
    offsetParentElement ? elementScrollPosition(offsetParentElement) : parentScrollPosition(element)
); };

var positionWithScroll = function (element, parent, scale) {
    if ( scale === void 0 ) scale = 1;

    var offsetParentElement = parent ? offsetParent(parent) : null;
    var ref = position(element, offsetParentElement);
    var top = ref.top;
    var left = ref.left;
    var height = ref.height;
    var width = ref.width;
    var ref$1 = offsetParentScrollPosition(offsetParentElement, element);
    var x = ref$1.x;
    var y = ref$1.y;
    var ownerDocument = element.ownerDocument;
    var positionScale = offsetParentElement === ownerDocument.body || offsetParentElement === ownerDocument.documentElement ? 1 : scale;

    return {
        top: top + y * positionScale,
        left: left + x * positionScale,
        height: height,
        width: width
    };
};

function removeScroll(rect, scroll) {
    return {
        top: rect.top - scroll.y,
        left: rect.left - scroll.x,
        height: rect.height,
        width: rect.width
    };
}

var collision = {
    "fit": "fit",
    "flip": "flip"
};

var fit = function(position, size, viewPortSize) {
    var output = 0;

    if (position + size > viewPortSize) {
        output = viewPortSize - (position + size);
    }

    if (position < 0) {
        output = -position;
    }

    return output;
};

var flip = function(ref) {
    var offset = ref.offset;
    var size = ref.size;
    var anchorSize = ref.anchorSize;
    var viewPortSize = ref.viewPortSize;
    var anchorAlignPoint = ref.anchorAlignPoint;
    var elementAlignPoint = ref.elementAlignPoint;
    var margin = ref.margin;

    var output = 0;

    var isPositionCentered = elementAlignPoint === alignPoint.center || elementAlignPoint === alignPoint.middle;
    var isOriginCentered = anchorAlignPoint === alignPoint.center || anchorAlignPoint === alignPoint.middle;
    var marginToAdd = 2 * margin; //2x to keep margin after flip

    if (elementAlignPoint !== anchorAlignPoint && !isPositionCentered && !isOriginCentered) {
        var isBeforeAnchor = anchorAlignPoint === alignPoint.top || anchorAlignPoint === alignPoint.left;
        if (offset < 0 && isBeforeAnchor) {
            output = size + anchorSize + marginToAdd;
            if (offset + output + size > viewPortSize) {
                output = 0; //skip flip
            }
        } else if (offset >= 0 && !isBeforeAnchor) {
            if (offset + size > viewPortSize) {
                output += -(anchorSize + size + marginToAdd);
            }

            if (offset + output < 0) {
                output = 0; //skip flip
            }
        }
    }

    return output;
};

var restrictToView = function (options) {
    var anchorRect = options.anchorRect;
    var anchorAlign = options.anchorAlign;
    var elementRect = options.elementRect;
    var elementAlign = options.elementAlign;
    var collisions = options.collisions;
    var viewPort = options.viewPort;
    var margin = options.margin; if ( margin === void 0 ) margin = {};
    var elementTop = elementRect.top;
    var elementLeft = elementRect.left;
    var elementHeight = elementRect.height;
    var elementWidth = elementRect.width;
    var viewPortHeight = viewPort.height;
    var viewPortWidth = viewPort.width;
    var horizontalMargin = margin.horizontal || 0;
    var verticalMargin = margin.vertical || 0;

    var left = 0;
    var top = 0;

    var isHorizontalFlip = collisions.horizontal === collision.flip;
    var isVerticalFlip = collisions.vertical === collision.flip;

    if (collisions.vertical === collision.fit) {
        top += fit(elementTop, elementHeight, viewPortHeight);
    }

    if (collisions.horizontal === collision.fit) {
        left += fit(elementLeft, elementWidth, viewPortWidth);
    }

    if (isVerticalFlip) {
        top += flip({
            margin: verticalMargin,
            offset: elementTop,
            size: elementHeight,
            anchorSize: anchorRect.height,
            viewPortSize: viewPortHeight,
            anchorAlignPoint: anchorAlign.vertical,
            elementAlignPoint: elementAlign.vertical
        });
    }

    if (isHorizontalFlip) {
        left += flip({
            margin: horizontalMargin,
            offset: elementLeft,
            size: elementWidth,
            anchorSize: anchorRect.width,
            viewPortSize: viewPortWidth,
            anchorAlignPoint: anchorAlign.horizontal,
            elementAlignPoint: elementAlign.horizontal
        });
    }
    var flippedHorizontal = isHorizontalFlip && left !== 0;
    var flippedVertical = isVerticalFlip && top !== 0;

    return {
        flipped: flippedHorizontal || flippedVertical,
        flip: {
            horizontal: flippedHorizontal,
            vertical: flippedVertical
        },
        offset: {
            left: left,
            top: top
        }
    };
};

var siblings = function (element) {
    var result = [];

    var sibling = element.parentNode.firstElementChild;

    while (sibling) {
        if (sibling !== element) {
            result.push(sibling);
        }

        sibling = sibling.nextElementSibling;
    }
    return result;
};

/* eslint-disable no-loop-func */

var siblingContainer = function (anchor, container) {
    var parentElements = parents(anchor);
    var containerElement = container;
    var siblingElements;
    var result;

    while (containerElement) {
        siblingElements = siblings(containerElement);

        result = parentElements.reduce(
            function (list, p) { return list.concat(siblingElements.filter(function (s) { return s === p; })); },
            []
        )[0];

        if (result) { break; }

        containerElement = containerElement.parentElement;
    }

    return result;
};

function zIndex(anchor, container) {
    if (!anchor || !container) { return null; }

    var sibling = siblingContainer(anchor, container);

    if (!sibling) { return null; }

    var result = [ anchor ].concat(parents(anchor, sibling)).reduce(
        function (index, p) {
            var zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;
            var current = parseInt(zIndexStyle, 10);
            return current > index ? current : index;
        },
        0
    );

    return result ? (result + 1) : null;
}

var eitherRect = function (rect, offset) {
    if (!rect) {
        return { height: 0, left: offset.left, top: offset.top, width: 0 };
    }

    return rect;
};

var scaleRect = function (rect, scale) {
    if (!rect || scale === 1) {
        return rect;
    }

    return {
        height: rect.height / scale,
        left: rect.left / scale,
        top: rect.top / scale,
        width: rect.width / scale
    };
};

var removeStackingOffset = function (rect, stackingOffset) {
    if (!stackingOffset) { return rect; }

    var result = {
        height: rect.height,
        left: rect.left - stackingOffset.left,
        top: rect.top - stackingOffset.top,
        width: rect.width
    };

    return result;
};

function memoize(fun) {
    var result;
    var called = false;

    return function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        if (called) {
            return result;
        }

        result = fun.apply(void 0, args);
        called = true;
        return result;
    };
}

var hasRelativeStackingContext = memoize(function (elementSource) {
    if (!canUseDOM()) { return false; }

    // Component need to pass element to make sure document owner is correct.
    // This however might be performance hit if checked for example on each drag event.
    var currentDocument = elementSource ? elementSource.ownerDocument : document;

    if (!currentDocument || !currentDocument.body) { return false; }

    var top = 10;
    var parent = currentDocument.createElement("div");
    parent.style.transform = "matrix(10, 0, 0, 10, 0, 0)";
    parent.innerHTML = "<div style=\"position: fixed; top: " + top + "px;\">child</div>";

    currentDocument.body.appendChild(parent);

    var isDifferent = parent.children[0].getBoundingClientRect().top !== top;

    currentDocument.body.removeChild(parent);

    return isDifferent;
});

var canUseDOM = function () { return Boolean(
    // from fbjs
    typeof window !== 'undefined' &&
    window.document &&
    window.document.createElement
); };

var utils = {
    eitherRect: eitherRect,
    scaleRect: scaleRect,
    removeStackingOffset: removeStackingOffset,
    hasRelativeStackingContext: hasRelativeStackingContext,
    canUseDOM: canUseDOM
};

/* eslint-disable arrow-body-style */
var STYLES = [
    'font-size',
    'font-family',
    'font-stretch',
    'font-style',
    'font-weight',
    'line-height'
];

var addOffset = function (current, addition) {
    return {
        left: current.left + addition.left,
        top: current.top + addition.top
    };
};

var getWindow$1 = function () {
    return utils.canUseDOM() ? window : null;
};

var getFontStyles = function (el) {
    var window = getWindow$1();

    if (!window || !el) { return []; }

    var computedStyles = window.getComputedStyle(el);

    return STYLES.map(function (font) { return ({ key: font, value: computedStyles[font] }); });
};

var hasOffsetParent = function (el) {
    if (!el) { return false; }

    return Boolean(el.offsetParent);
};

var offset$1 = function (el) {
    if (!el) { return null; }

    return offset(el);
};

var offsetAtPoint = function (element, currentLocation) {
    if (!element) { return null; }

    var ref = element.style;
    var left = ref.left;
    var top = ref.top;
    var transition = ref.transition;

    element.style.transition = 'none';
    element.style.left = (currentLocation.left) + "px";
    element.style.top = (currentLocation.top) + "px";

    var currentOffset = offset(element);

    element.style.left = left;
    element.style.top = top;

    // prevents elements with transition to be animated because of the change
    // tslint:disable-next-line:no-unused-expression
    element.offsetHeight;

    element.style.transition = transition;

    return currentOffset;
};

var position$2 = function (element, popupElement, scale) {
    if (!element || !popupElement) { return null; }

    var currentScale = scale || 1;

    return positionWithScroll(element, popupElement, currentScale);
};

var OVERFLOW_REGEXP = /auto|scroll/;

var overflowElementStyle = function (element) {
    return ("" + (element.style.overflow) + (element.style.overflowX) + (element.style.overflowY));
};

var overflowComputedStyle = function (element) {
    var styles = window.getComputedStyle(element);
    return ("" + (styles.overflow) + (styles.overflowX) + (styles.overflowY));
};

var overflowStyle = function (element) {
    return overflowElementStyle(element) || overflowComputedStyle(element);
};

var scrollableParents = function (element) {
    var parentElements = [];

    if (!utils.canUseDOM()) { return parentElements; }

    var parent = element.parentElement;

    while (parent) {
        if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {
            parentElements.push(parent);
        }

        parent = parent.parentElement;
    }

    parentElements.push(window);

    return parentElements;
};

var getRelativeContextElement = function (el) {
    if (!el || !utils.hasRelativeStackingContext()) { return null; }

    var parent = el.parentElement;

    while (parent) {
        if (window.getComputedStyle(parent).transform !== 'none') {
            return parent;
        }
        parent = parent.parentElement;
    }

    return null;
};

var stackingElementOffset = function (el) {
    var relativeContextElement = getRelativeContextElement(el);

    if (!relativeContextElement) { return null; }

    return offset(relativeContextElement);
};

var stackingElementScroll = function (el) {
    var relativeContextElement = getRelativeContextElement(el);

    if (!relativeContextElement) { return { x: 0, y: 0 }; }

    return {
        x: relativeContextElement.scrollLeft,
        y: relativeContextElement.scrollTop
    };
};

var stackingElementViewPort = function (el) {
    var relativeContextElement = getRelativeContextElement(el);

    if (!relativeContextElement) { return null; }

    return {
        height: relativeContextElement.scrollHeight,
        width: relativeContextElement.scrollWidth
    };
};

var useRelativePosition = function (el) {
    return Boolean(getRelativeContextElement(el));
};

var zoomLevel = function () {
    if (!utils.canUseDOM()) { return 1; }

    return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;
};

var isZoomed = function () {
    return zoomLevel() > 1;
};

var zIndex$1 = function (anchor, container) {
    if (!anchor || !utils.canUseDOM()) { return null; }

    var sibling = siblingContainer(anchor, container);

    if (!sibling) { return null; }

    var result = [ anchor ].concat(parents(anchor, sibling)).reduce(
        function (index, p) {
            var zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;
            var current = parseInt(zIndexStyle, 10);
            return current > index ? current : index;
        },
        0
    );

    return result ? (result + 1) : null;
};

var domUtils = {
    addOffset: addOffset,
    addScroll: addScroll,
    align: align,
    boundingOffset: boundingOffset,
    getFontStyles: getFontStyles,
    getWindow: getWindow$1,
    hasOffsetParent: hasOffsetParent,
    offset: offset$1,
    offsetAtPoint: offsetAtPoint,
    position: position$2,
    removeScroll: removeScroll,
    restrictToView: restrictToView,
    scrollPosition: scrollPosition,
    scrollableParents: scrollableParents,
    getRelativeContextElement: getRelativeContextElement,
    stackingElementOffset: stackingElementOffset,
    stackingElementScroll: stackingElementScroll,
    stackingElementViewPort: stackingElementViewPort,
    useRelativePosition: useRelativePosition,
    windowViewPort: windowViewport,
    zoomLevel: zoomLevel,
    isZoomed: isZoomed,
    zIndex: zIndex$1
};

/* eslint-disable arrow-body-style */

var absoluteRect = function (anchor, element, offset, scale) {
    var scrollPos = elementScrollPosition$1(anchor, element);
    var rect = utils.eitherRect(domUtils.offset(anchor), offset);
    var stackScale = 2 * scale;

    var stackScroll = domUtils.stackingElementScroll(element);
    if (scale !== 1 && stackScroll) {
        stackScroll.x /= stackScale;
        stackScroll.y /= stackScale;
    }

    var stackOffset = domUtils.stackingElementOffset(element);
    if (scale !== 1 && stackOffset) {
        stackOffset.left /= stackScale;
        stackOffset.top /= stackScale;
    }

    return domUtils.removeScroll(
        domUtils.addScroll(
            utils.removeStackingOffset(
                utils.scaleRect(rect, scale),
                stackOffset
            ),
            stackScroll
        ),
        scrollPos
    );
};

var relativeRect = function (anchor, element, offset, scale) {
    var rect = utils.eitherRect(domUtils.position(anchor, element, scale), offset);
    return utils.scaleRect(rect, scale);
};

var elementScrollPosition$1 = function (anchor, element) {
    return anchor ? { x: 0, y: 0 } : domUtils.scrollPosition(element);
};

var alignElement = function (settings) {
    var anchor = settings.anchor;
    var element = settings.element;
    var anchorAlign = settings.anchorAlign;
    var elementAlign = settings.elementAlign;
    var margin = settings.margin;
    var offset = settings.offset;
    var positionMode = settings.positionMode;
    var scale = settings.scale;

    var currentScale = scale || 1;
    var fixedMode = positionMode === 'fixed' || !domUtils.hasOffsetParent(element);
    var anchorRect = fixedMode ? absoluteRect(anchor, element, offset, currentScale) : relativeRect(anchor, element, offset, currentScale);
    var elementRect = utils.scaleRect(domUtils.offset(element), currentScale);

    var result = domUtils.align({
        anchorAlign: anchorAlign,
        anchorRect: anchorRect,
        elementAlign: elementAlign,
        elementRect: elementRect,
        margin: margin
    });

    return result;
};

var positionElement = function (settings) {
    var anchor = settings.anchor;
    var currentLocation = settings.currentLocation;
    var element = settings.element;
    var anchorAlign = settings.anchorAlign;
    var elementAlign = settings.elementAlign;
    var collisions = settings.collisions;
    var margin = settings.margin;
    var scale = settings.scale;

    var currentScale = scale || 1;
    var elementOffset = domUtils.offsetAtPoint(element, currentLocation);
    var elementRect = utils.scaleRect(elementOffset, currentScale);
    var anchorOffset = utils.scaleRect(domUtils.offset(anchor), currentScale);
    var anchorRect = utils.eitherRect(anchorOffset, currentLocation);

    var viewPort = settings.viewPort || domUtils.windowViewPort(element);
    viewPort.width = viewPort.width / currentScale;
    viewPort.height = viewPort.height / currentScale;

    var result = domUtils.restrictToView({
        anchorAlign: anchorAlign,
        anchorRect: anchorRect,
        collisions: collisions,
        elementAlign: elementAlign,
        elementRect: elementRect,
        margin: margin,
        viewPort: viewPort
    });

    var offset = domUtils.addOffset(currentLocation, result.offset);

    return {
        flip: result.flip,
        flipped: result.flipped,
        offset: offset
    };
};

exports.align = align;
exports.addScroll = addScroll;
exports.applyLocationOffset = applyLocationOffset;
exports.boundingOffset = boundingOffset;
exports.isBodyOffset = isBodyOffset;
exports.offsetParent = offsetParent;
exports.offset = offset;
exports.parents = parents;
exports.parentScrollPosition = parentScrollPosition;
exports.position = position;
exports.positionWithScroll = positionWithScroll;
exports.removeScroll = removeScroll;
exports.restrictToView = restrictToView;
exports.scrollPosition = scrollPosition;
exports.siblingContainer = siblingContainer;
exports.siblings = siblings;
exports.zIndex = zIndex;
exports.alignElement = alignElement;
exports.domUtils = domUtils;
exports.utils = utils;
exports.positionElement = positionElement;
exports.getDocumentElement = getDocument;
exports.getWindow = getWindow;
exports.getWindowViewPort = windowViewport;
exports.AlignPoint = alignPoint;
exports.Collision = collision;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9hbGlnbi1wb2ludC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9hbGlnbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9hZGQtc2Nyb2xsLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL2FwcGx5LWxvY2F0aW9uLW9mZnNldC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9vd25lci1kb2N1bWVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy93aW5kb3cuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvZG9jdW1lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvc2Nyb2xsYmFyLXdpZHRoLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL3dpbmRvdy12aWV3cG9ydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9ib3VuZGluZy1vZmZzZXQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvb2Zmc2V0LXBhcmVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9pcy1ib2R5LW9mZnNldC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9vZmZzZXQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvcGFyZW50cy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9zY3JvbGwtcG9zaXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvZWxlbWVudC1zY3JvbGwtcG9zaXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvcGFyZW50LXNjcm9sbC1wb3NpdGlvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9wb3NpdGlvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9vZmZzZXQtcGFyZW50LXNjcm9sbC1wb3NpdGlvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9wb3NpdGlvbi13aXRoLXNjcm9sbC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9yZW1vdmUtc2Nyb2xsLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL2NvbGxpc2lvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9yZXN0cmljdC10by12aWV3LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL3NpYmxpbmdzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL3NpYmxpbmctY29udGFpbmVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL3otaW5kZXguanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvdXRpbHMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvZG9tLXV0aWxzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL2FsaWduLWVsZW1lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvcG9zaXRpb24tZWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgXCJib3R0b21cIjogXCJib3R0b21cIixcbiAgICBcImNlbnRlclwiOiBcImNlbnRlclwiLFxuICAgIFwibWlkZGxlXCI6IFwibWlkZGxlXCIsXG4gICAgXCJsZWZ0XCI6IFwibGVmdFwiLFxuICAgIFwicmlnaHRcIjogXCJyaWdodFwiLFxuICAgIFwidG9wXCI6IFwidG9wXCJcbn07XG4iLCJpbXBvcnQgcG9pbnQgZnJvbSAnLi9hbGlnbi1wb2ludCc7XG5cbmNvbnN0IGFsaWduID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IGFuY2hvclJlY3QsIGFuY2hvckFsaWduLCBlbGVtZW50UmVjdCwgZWxlbWVudEFsaWduLCBtYXJnaW4gPSB7fSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBhbmNob3JIb3Jpem9udGFsID0gYW5jaG9yQWxpZ24uaG9yaXpvbnRhbDtcbiAgICBjb25zdCBhbmNob3JWZXJ0aWNhbCA9IGFuY2hvckFsaWduLnZlcnRpY2FsO1xuICAgIGNvbnN0IGVsZW1lbnRIb3Jpem9udGFsID0gZWxlbWVudEFsaWduLmhvcml6b250YWw7XG4gICAgY29uc3QgZWxlbWVudFZlcnRpY2FsID0gZWxlbWVudEFsaWduLnZlcnRpY2FsO1xuXG4gICAgbGV0IGhvcml6b250YWxNYXJnaW4gPSBtYXJnaW4uaG9yaXpvbnRhbCB8fCAwO1xuICAgIGxldCB2ZXJ0aWNhbE1hcmdpbiA9IG1hcmdpbi52ZXJ0aWNhbCB8fCAwO1xuXG4gICAgbGV0IHRvcCA9IGFuY2hvclJlY3QudG9wO1xuICAgIGxldCBsZWZ0ID0gYW5jaG9yUmVjdC5sZWZ0O1xuXG4gICAgaWYgKGFuY2hvclZlcnRpY2FsID09PSBwb2ludC5ib3R0b20pIHtcbiAgICAgICAgdG9wICs9IGFuY2hvclJlY3QuaGVpZ2h0O1xuICAgIH1cblxuICAgIGlmIChhbmNob3JWZXJ0aWNhbCA9PT0gcG9pbnQuY2VudGVyIHx8IGFuY2hvclZlcnRpY2FsID09PSBwb2ludC5taWRkbGUpIHtcbiAgICAgICAgdG9wICs9IE1hdGgucm91bmQoYW5jaG9yUmVjdC5oZWlnaHQgLyAyKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudFZlcnRpY2FsID09PSBwb2ludC5ib3R0b20pIHtcbiAgICAgICAgdG9wIC09IGVsZW1lbnRSZWN0LmhlaWdodDtcbiAgICAgICAgdmVydGljYWxNYXJnaW4gKj0gLTE7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRWZXJ0aWNhbCA9PT0gcG9pbnQuY2VudGVyIHx8IGVsZW1lbnRWZXJ0aWNhbCA9PT0gcG9pbnQubWlkZGxlKSB7XG4gICAgICAgIHRvcCAtPSBNYXRoLnJvdW5kKGVsZW1lbnRSZWN0LmhlaWdodCAvIDIpO1xuICAgICAgICB2ZXJ0aWNhbE1hcmdpbiAqPSAtMTtcbiAgICB9XG5cbiAgICBpZiAoYW5jaG9ySG9yaXpvbnRhbCA9PT0gcG9pbnQucmlnaHQpIHtcbiAgICAgICAgbGVmdCArPSBhbmNob3JSZWN0LndpZHRoO1xuICAgIH1cblxuICAgIGlmIChhbmNob3JIb3Jpem9udGFsID09PSBwb2ludC5jZW50ZXIgfHwgYW5jaG9ySG9yaXpvbnRhbCA9PT0gcG9pbnQubWlkZGxlKSB7XG4gICAgICAgIGxlZnQgKz0gTWF0aC5yb3VuZChhbmNob3JSZWN0LndpZHRoIC8gMik7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRIb3Jpem9udGFsID09PSBwb2ludC5yaWdodCkge1xuICAgICAgICBsZWZ0IC09IGVsZW1lbnRSZWN0LndpZHRoO1xuICAgICAgICBob3Jpem9udGFsTWFyZ2luICo9IC0xO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50SG9yaXpvbnRhbCA9PT0gcG9pbnQuY2VudGVyIHx8IGVsZW1lbnRIb3Jpem9udGFsID09PSBwb2ludC5taWRkbGUpIHtcbiAgICAgICAgbGVmdCAtPSBNYXRoLnJvdW5kKGVsZW1lbnRSZWN0LndpZHRoIC8gMik7XG4gICAgICAgIGhvcml6b250YWxNYXJnaW4gKj0gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AgKyB2ZXJ0aWNhbE1hcmdpbixcbiAgICAgICAgbGVmdDogbGVmdCArIGhvcml6b250YWxNYXJnaW5cbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYWxpZ247XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRTY3JvbGwocmVjdCwgc2Nyb2xsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCArIHNjcm9sbC55LFxuICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyBzY3JvbGwueCxcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwbHlMb2NhdGlvbk9mZnNldChyZWN0LCBsb2NhdGlvbiwgaXNPZmZzZXRCb2R5KSB7XG4gICAgbGV0IHsgdG9wLCBsZWZ0IH0gPSByZWN0O1xuXG4gICAgaWYgKGlzT2Zmc2V0Qm9keSkge1xuICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgdG9wID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcCArIGxvY2F0aW9uLnRvcCxcbiAgICAgICAgbGVmdDogbGVmdCArIGxvY2F0aW9uLmxlZnQsXG4gICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgICAgIHdpZHRoOiByZWN0LndpZHRoXG4gICAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG93bmVyRG9jdW1lbnQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudC5kb2N1bWVudCB8fCBlbGVtZW50O1xufVxuIiwiaW1wb3J0IG93bmVyRG9jdW1lbnQgZnJvbSAnLi9vd25lci1kb2N1bWVudCc7XG5cbmNvbnN0IGdldFdpbmRvdyA9IChlbGVtZW50KSA9PiBvd25lckRvY3VtZW50KGVsZW1lbnQpLmRlZmF1bHRWaWV3O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRXaW5kb3c7XG4iLCJpbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tICcuL293bmVyLWRvY3VtZW50JztcblxuY29uc3QgZ2V0RG9jdW1lbnQgPSAoZWxlbWVudCkgPT4gb3duZXJEb2N1bWVudChlbGVtZW50KS5kb2N1bWVudEVsZW1lbnQ7XG5cbmV4cG9ydCBkZWZhdWx0IGdldERvY3VtZW50O1xuIiwibGV0IGNhY2hlZFdpZHRoID0gMDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgaWYgKCFjYWNoZWRXaWR0aCAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPSBcIm92ZXJmbG93OnNjcm9sbDtvdmVyZmxvdy14OmhpZGRlbjt6b29tOjE7Y2xlYXI6Ym90aDtkaXNwbGF5OmJsb2NrXCI7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBcIiZuYnNwO1wiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgICAgICAgY2FjaGVkV2lkdGggPSBkaXYub2Zmc2V0V2lkdGggLSBkaXYuc2Nyb2xsV2lkdGg7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZWRXaWR0aDtcbn1cbiIsImltcG9ydCB3bmQgZnJvbSAnLi93aW5kb3cnO1xuaW1wb3J0IGdldERvY3VtZW50IGZyb20gJy4vZG9jdW1lbnQnO1xuaW1wb3J0IHNjcm9sbGJhcldpZHRoIGZyb20gJy4vc2Nyb2xsYmFyLXdpZHRoJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2luZG93Vmlld3BvcnQoZWxlbWVudCkge1xuICAgIGNvbnN0IHdpbiA9IHduZChlbGVtZW50KTtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgaGVpZ2h0OiB3aW4uaW5uZXJIZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aW4uaW5uZXJXaWR0aFxuICAgIH07XG5cbiAgICBpZiAoZG9jdW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZG9jdW1lbnQuY2xpZW50SGVpZ2h0ID4gMCkge1xuICAgICAgICByZXN1bHQud2lkdGggLT0gc2Nyb2xsYmFyV2lkdGgoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHdpbmRvd1ZpZXdwb3J0IGZyb20gJy4vd2luZG93LXZpZXdwb3J0JztcblxuY29uc3QgYm91bmRpbmdPZmZzZXQgPSAoZWxlbWVudCkgPT4ge1xuICAgIGlmICghZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB3aW5kb3dWaWV3cG9ydChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvdHRvbTogdmlld3BvcnQuaGVpZ2h0LFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHJpZ2h0OiB2aWV3cG9ydC53aWR0aCxcbiAgICAgICAgICAgIHRvcDogMFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgYm90dG9tLCBsZWZ0LCByaWdodCwgdG9wIH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYm90dG9tLFxuICAgICAgICBsZWZ0LFxuICAgICAgICByaWdodCxcbiAgICAgICAgdG9wXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGJvdW5kaW5nT2Zmc2V0O1xuIiwiaW1wb3J0IGRvY3VtZW50RWxlbWVudCBmcm9tICcuL2RvY3VtZW50JztcblxuY29uc3Qgb2Zmc2V0UGFyZW50ID0gKGVsZW1lbnQpID0+IHtcbiAgICBsZXQgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG5cbiAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudC5zdHlsZS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIikge1xuICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuICAgIH1cblxuICAgIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgb2Zmc2V0UGFyZW50O1xuIiwiaW1wb3J0IG9mZnNldFBhcmVudCBmcm9tICcuL29mZnNldC1wYXJlbnQnO1xuXG5jb25zdCBpc0JvZHlPZmZzZXQgPSAoZWxlbWVudCkgPT4gKG9mZnNldFBhcmVudChlbGVtZW50KSA9PT0gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHkpO1xuXG5leHBvcnQgZGVmYXVsdCBpc0JvZHlPZmZzZXQ7XG4iLCJjb25zdCByZWN0T2ZIaWRkZW5FbGVtZW50ID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB7IGRpc3BsYXksIGxlZnQsIHBvc2l0aW9uIH0gPSBlbGVtZW50LnN0eWxlO1xuXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gJy0xMDAwMHB4JztcbiAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBwb3NpdGlvbjtcblxuICAgIHJldHVybiByZWN0O1xufTtcblxuY29uc3Qgb2Zmc2V0ID0gKGVsZW1lbnQpID0+IHtcbiAgICBsZXQgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHsgbGVmdCwgdG9wIH0gPSByZWN0O1xuXG4gICAgaWYgKCFyZWN0LmhlaWdodCAmJiAhcmVjdC53aWR0aCkge1xuICAgICAgICByZWN0ID0gcmVjdE9mSGlkZGVuRWxlbWVudChlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgb2Zmc2V0O1xuIiwiZXhwb3J0IGRlZmF1bHQgKGVsZW1lbnQsIHVudGlsKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IG5leHQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICByZXN1bHQucHVzaChuZXh0KTtcblxuICAgICAgICBpZiAobmV4dCA9PT0gdW50aWwpIHsgYnJlYWs7IH1cblxuICAgICAgICBuZXh0ID0gbmV4dC5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiaW1wb3J0IGRvY0VsZW1lbnQgZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgd25kIGZyb20gJy4vd2luZG93JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2Nyb2xsUG9zaXRpb24oZWxlbWVudCkge1xuICAgIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGRvY0VsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3Qgd2luID0gd25kKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogd2luLnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IDAsXG4gICAgICAgIHk6IHdpbi5wYWdlWU9mZnNldCB8fCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IDBcbiAgICB9O1xufVxuIiwiaW1wb3J0IHNjcm9sbFBvc2l0aW9uIGZyb20gJy4vc2Nyb2xsLXBvc2l0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgKGVsZW1lbnQpID0+IHtcbiAgICBpZiAoZWxlbWVudCA9PT0gKGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCB7fSkuYm9keSkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsUG9zaXRpb24oZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICB5OiBlbGVtZW50LnNjcm9sbFRvcFxuICAgIH07XG59O1xuIiwiaW1wb3J0IG9mZnNldFBhcmVudCBmcm9tICcuL29mZnNldC1wYXJlbnQnO1xuaW1wb3J0IGVsZW1lbnRTY3JvbGxQb3NpdGlvbiBmcm9tICcuL2VsZW1lbnQtc2Nyb2xsLXBvc2l0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyZW50U2Nyb2xsUG9zaXRpb24oZWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmVudCA9IG9mZnNldFBhcmVudChlbGVtZW50KTtcblxuICAgIHJldHVybiBwYXJlbnQgPyBlbGVtZW50U2Nyb2xsUG9zaXRpb24ocGFyZW50KSA6IHsgeDogMCwgeTogMCB9O1xufVxuIiwiaW1wb3J0IG9mZnNldFBhcmVudCBmcm9tICcuL29mZnNldC1wYXJlbnQnO1xuaW1wb3J0IG9mZnNldFJlY3QgZnJvbSAnLi9vZmZzZXQnO1xuaW1wb3J0IHduZCBmcm9tICcuL3dpbmRvdyc7XG5cbmNvbnN0IHBvc2l0aW9uID0gKGVsZW1lbnQsIHBhcmVudCkgPT4ge1xuICAgIGNvbnN0IHdpbiA9IHduZChlbGVtZW50KTtcbiAgICBjb25zdCBlbGVtZW50U3R5bGVzID0gd2luLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gb2Zmc2V0UmVjdChlbGVtZW50KTtcbiAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gcGFyZW50IHx8IG9mZnNldFBhcmVudChlbGVtZW50KTtcblxuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgdXNlUmVsYXRpdmUgPSBwYXJlbnRFbGVtZW50ICE9PSBvd25lckRvY3VtZW50LmJvZHkgJiYgcGFyZW50RWxlbWVudCAhPT0gb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICBsZXQgcGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuICAgIGlmIChlbGVtZW50U3R5bGVzLnBvc2l0aW9uICE9PSBcImZpeGVkXCIgJiYgdXNlUmVsYXRpdmUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50U3R5bGVzID0gd2luLmdldENvbXB1dGVkU3R5bGUocGFyZW50RWxlbWVudCk7XG5cbiAgICAgICAgcGFyZW50T2Zmc2V0ID0gb2Zmc2V0UmVjdChwYXJlbnRFbGVtZW50KTtcbiAgICAgICAgcGFyZW50T2Zmc2V0LnRvcCArPSBwYXJzZUludChwYXJlbnRTdHlsZXMuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgICAgICAgcGFyZW50T2Zmc2V0LmxlZnQgKz0gcGFyc2VJbnQocGFyZW50U3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgMTApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AsXG4gICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQsXG4gICAgICAgIGhlaWdodDogb2Zmc2V0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IG9mZnNldC53aWR0aFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwb3NpdGlvbjtcbiIsImltcG9ydCBlbGVtZW50U2Nyb2xsUG9zaXRpb24gZnJvbSAnLi9lbGVtZW50LXNjcm9sbC1wb3NpdGlvbic7XG5pbXBvcnQgcGFyZW50U2Nyb2xsUG9zaXRpb24gZnJvbSAnLi9wYXJlbnQtc2Nyb2xsLXBvc2l0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgKG9mZnNldFBhcmVudEVsZW1lbnQsIGVsZW1lbnQpID0+ICggLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hcnJvdy1jb25kaXRpb25cbiAgICBvZmZzZXRQYXJlbnRFbGVtZW50ID8gZWxlbWVudFNjcm9sbFBvc2l0aW9uKG9mZnNldFBhcmVudEVsZW1lbnQpIDogcGFyZW50U2Nyb2xsUG9zaXRpb24oZWxlbWVudClcbik7XG4iLCJpbXBvcnQgb2Zmc2V0UGFyZW50U2Nyb2xsUG9zaXRpb24gZnJvbSAnLi9vZmZzZXQtcGFyZW50LXNjcm9sbC1wb3NpdGlvbic7XG5pbXBvcnQgb2Zmc2V0UGFyZW50IGZyb20gJy4vb2Zmc2V0LXBhcmVudCc7XG5pbXBvcnQgcG9zaXRpb24gZnJvbSAnLi9wb3NpdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IChlbGVtZW50LCBwYXJlbnQsIHNjYWxlID0gMSkgPT4ge1xuICAgIGNvbnN0IG9mZnNldFBhcmVudEVsZW1lbnQgPSBwYXJlbnQgPyBvZmZzZXRQYXJlbnQocGFyZW50KSA6IG51bGw7XG4gICAgY29uc3QgeyB0b3AsIGxlZnQsIGhlaWdodCwgd2lkdGggfSA9IHBvc2l0aW9uKGVsZW1lbnQsIG9mZnNldFBhcmVudEVsZW1lbnQpO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gb2Zmc2V0UGFyZW50U2Nyb2xsUG9zaXRpb24ob2Zmc2V0UGFyZW50RWxlbWVudCwgZWxlbWVudCk7XG4gICAgY29uc3Qgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCBwb3NpdGlvblNjYWxlID0gb2Zmc2V0UGFyZW50RWxlbWVudCA9PT0gb3duZXJEb2N1bWVudC5ib2R5IHx8IG9mZnNldFBhcmVudEVsZW1lbnQgPT09IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gMSA6IHNjYWxlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AgKyB5ICogcG9zaXRpb25TY2FsZSxcbiAgICAgICAgbGVmdDogbGVmdCArIHggKiBwb3NpdGlvblNjYWxlLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgfTtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVTY3JvbGwocmVjdCwgc2Nyb2xsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCAtIHNjcm9sbC55LFxuICAgICAgICBsZWZ0OiByZWN0LmxlZnQgLSBzY3JvbGwueCxcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIFwiZml0XCI6IFwiZml0XCIsXG4gICAgXCJmbGlwXCI6IFwiZmxpcFwiXG59O1xuIiwiaW1wb3J0IGFsaWduUG9pbnQgZnJvbSAnLi9hbGlnbi1wb2ludCc7XG5pbXBvcnQgY29sbGlzaW9uIGZyb20gJy4vY29sbGlzaW9uJztcblxuY29uc3QgZml0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHNpemUsIHZpZXdQb3J0U2l6ZSkge1xuICAgIGxldCBvdXRwdXQgPSAwO1xuXG4gICAgaWYgKHBvc2l0aW9uICsgc2l6ZSA+IHZpZXdQb3J0U2l6ZSkge1xuICAgICAgICBvdXRwdXQgPSB2aWV3UG9ydFNpemUgLSAocG9zaXRpb24gKyBzaXplKTtcbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKSB7XG4gICAgICAgIG91dHB1dCA9IC1wb3NpdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufTtcblxuY29uc3QgZmxpcCA9IGZ1bmN0aW9uKHsgb2Zmc2V0LCBzaXplLCBhbmNob3JTaXplLCB2aWV3UG9ydFNpemUsIGFuY2hvckFsaWduUG9pbnQsIGVsZW1lbnRBbGlnblBvaW50LCBtYXJnaW4gfSkge1xuICAgIGxldCBvdXRwdXQgPSAwO1xuXG4gICAgY29uc3QgaXNQb3NpdGlvbkNlbnRlcmVkID0gZWxlbWVudEFsaWduUG9pbnQgPT09IGFsaWduUG9pbnQuY2VudGVyIHx8IGVsZW1lbnRBbGlnblBvaW50ID09PSBhbGlnblBvaW50Lm1pZGRsZTtcbiAgICBjb25zdCBpc09yaWdpbkNlbnRlcmVkID0gYW5jaG9yQWxpZ25Qb2ludCA9PT0gYWxpZ25Qb2ludC5jZW50ZXIgfHwgYW5jaG9yQWxpZ25Qb2ludCA9PT0gYWxpZ25Qb2ludC5taWRkbGU7XG4gICAgY29uc3QgbWFyZ2luVG9BZGQgPSAyICogbWFyZ2luOyAvLzJ4IHRvIGtlZXAgbWFyZ2luIGFmdGVyIGZsaXBcblxuICAgIGlmIChlbGVtZW50QWxpZ25Qb2ludCAhPT0gYW5jaG9yQWxpZ25Qb2ludCAmJiAhaXNQb3NpdGlvbkNlbnRlcmVkICYmICFpc09yaWdpbkNlbnRlcmVkKSB7XG4gICAgICAgIGNvbnN0IGlzQmVmb3JlQW5jaG9yID0gYW5jaG9yQWxpZ25Qb2ludCA9PT0gYWxpZ25Qb2ludC50b3AgfHwgYW5jaG9yQWxpZ25Qb2ludCA9PT0gYWxpZ25Qb2ludC5sZWZ0O1xuICAgICAgICBpZiAob2Zmc2V0IDwgMCAmJiBpc0JlZm9yZUFuY2hvcikge1xuICAgICAgICAgICAgb3V0cHV0ID0gc2l6ZSArIGFuY2hvclNpemUgKyBtYXJnaW5Ub0FkZDtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgKyBvdXRwdXQgKyBzaXplID4gdmlld1BvcnRTaXplKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gMDsgLy9za2lwIGZsaXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvZmZzZXQgPj0gMCAmJiAhaXNCZWZvcmVBbmNob3IpIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgKyBzaXplID4gdmlld1BvcnRTaXplKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9IC0oYW5jaG9yU2l6ZSArIHNpemUgKyBtYXJnaW5Ub0FkZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvZmZzZXQgKyBvdXRwdXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gMDsgLy9za2lwIGZsaXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuXG5jb25zdCByZXN0cmljdFRvVmlldyA9IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBhbmNob3JSZWN0LCBhbmNob3JBbGlnbiwgZWxlbWVudFJlY3QsIGVsZW1lbnRBbGlnbiwgY29sbGlzaW9ucywgdmlld1BvcnQsIG1hcmdpbiA9IHt9IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgdG9wOiBlbGVtZW50VG9wLCBsZWZ0OiBlbGVtZW50TGVmdCwgaGVpZ2h0OiBlbGVtZW50SGVpZ2h0LCB3aWR0aDogZWxlbWVudFdpZHRoIH0gPSBlbGVtZW50UmVjdDtcbiAgICBjb25zdCB7IGhlaWdodDogdmlld1BvcnRIZWlnaHQsIHdpZHRoOiB2aWV3UG9ydFdpZHRoIH0gPSB2aWV3UG9ydDtcbiAgICBjb25zdCBob3Jpem9udGFsTWFyZ2luID0gbWFyZ2luLmhvcml6b250YWwgfHwgMDtcbiAgICBjb25zdCB2ZXJ0aWNhbE1hcmdpbiA9IG1hcmdpbi52ZXJ0aWNhbCB8fCAwO1xuXG4gICAgbGV0IGxlZnQgPSAwO1xuICAgIGxldCB0b3AgPSAwO1xuXG4gICAgY29uc3QgaXNIb3Jpem9udGFsRmxpcCA9IGNvbGxpc2lvbnMuaG9yaXpvbnRhbCA9PT0gY29sbGlzaW9uLmZsaXA7XG4gICAgY29uc3QgaXNWZXJ0aWNhbEZsaXAgPSBjb2xsaXNpb25zLnZlcnRpY2FsID09PSBjb2xsaXNpb24uZmxpcDtcblxuICAgIGlmIChjb2xsaXNpb25zLnZlcnRpY2FsID09PSBjb2xsaXNpb24uZml0KSB7XG4gICAgICAgIHRvcCArPSBmaXQoZWxlbWVudFRvcCwgZWxlbWVudEhlaWdodCwgdmlld1BvcnRIZWlnaHQpO1xuICAgIH1cblxuICAgIGlmIChjb2xsaXNpb25zLmhvcml6b250YWwgPT09IGNvbGxpc2lvbi5maXQpIHtcbiAgICAgICAgbGVmdCArPSBmaXQoZWxlbWVudExlZnQsIGVsZW1lbnRXaWR0aCwgdmlld1BvcnRXaWR0aCk7XG4gICAgfVxuXG4gICAgaWYgKGlzVmVydGljYWxGbGlwKSB7XG4gICAgICAgIHRvcCArPSBmbGlwKHtcbiAgICAgICAgICAgIG1hcmdpbjogdmVydGljYWxNYXJnaW4sXG4gICAgICAgICAgICBvZmZzZXQ6IGVsZW1lbnRUb3AsXG4gICAgICAgICAgICBzaXplOiBlbGVtZW50SGVpZ2h0LFxuICAgICAgICAgICAgYW5jaG9yU2l6ZTogYW5jaG9yUmVjdC5oZWlnaHQsXG4gICAgICAgICAgICB2aWV3UG9ydFNpemU6IHZpZXdQb3J0SGVpZ2h0LFxuICAgICAgICAgICAgYW5jaG9yQWxpZ25Qb2ludDogYW5jaG9yQWxpZ24udmVydGljYWwsXG4gICAgICAgICAgICBlbGVtZW50QWxpZ25Qb2ludDogZWxlbWVudEFsaWduLnZlcnRpY2FsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpc0hvcml6b250YWxGbGlwKSB7XG4gICAgICAgIGxlZnQgKz0gZmxpcCh7XG4gICAgICAgICAgICBtYXJnaW46IGhvcml6b250YWxNYXJnaW4sXG4gICAgICAgICAgICBvZmZzZXQ6IGVsZW1lbnRMZWZ0LFxuICAgICAgICAgICAgc2l6ZTogZWxlbWVudFdpZHRoLFxuICAgICAgICAgICAgYW5jaG9yU2l6ZTogYW5jaG9yUmVjdC53aWR0aCxcbiAgICAgICAgICAgIHZpZXdQb3J0U2l6ZTogdmlld1BvcnRXaWR0aCxcbiAgICAgICAgICAgIGFuY2hvckFsaWduUG9pbnQ6IGFuY2hvckFsaWduLmhvcml6b250YWwsXG4gICAgICAgICAgICBlbGVtZW50QWxpZ25Qb2ludDogZWxlbWVudEFsaWduLmhvcml6b250YWxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGZsaXBwZWRIb3Jpem9udGFsID0gaXNIb3Jpem9udGFsRmxpcCAmJiBsZWZ0ICE9PSAwO1xuICAgIGNvbnN0IGZsaXBwZWRWZXJ0aWNhbCA9IGlzVmVydGljYWxGbGlwICYmIHRvcCAhPT0gMDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGZsaXBwZWQ6IGZsaXBwZWRIb3Jpem9udGFsIHx8IGZsaXBwZWRWZXJ0aWNhbCxcbiAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogZmxpcHBlZEhvcml6b250YWwsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogZmxpcHBlZFZlcnRpY2FsXG4gICAgICAgIH0sXG4gICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgIHRvcDogdG9wXG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVzdHJpY3RUb1ZpZXc7XG4iLCJleHBvcnQgZGVmYXVsdCAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgbGV0IHNpYmxpbmcgPSBlbGVtZW50LnBhcmVudE5vZGUuZmlyc3RFbGVtZW50Q2hpbGQ7XG5cbiAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgICBpZiAoc2libGluZyAhPT0gZWxlbWVudCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goc2libGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzaWJsaW5nID0gc2libGluZy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG5cbmltcG9ydCBwYXJlbnRzIGZyb20gJy4vcGFyZW50cyc7XG5pbXBvcnQgc2libGluZ3MgZnJvbSAnLi9zaWJsaW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0IChhbmNob3IsIGNvbnRhaW5lcikgPT4ge1xuICAgIGNvbnN0IHBhcmVudEVsZW1lbnRzID0gcGFyZW50cyhhbmNob3IpO1xuICAgIGxldCBjb250YWluZXJFbGVtZW50ID0gY29udGFpbmVyO1xuICAgIGxldCBzaWJsaW5nRWxlbWVudHM7XG4gICAgbGV0IHJlc3VsdDtcblxuICAgIHdoaWxlIChjb250YWluZXJFbGVtZW50KSB7XG4gICAgICAgIHNpYmxpbmdFbGVtZW50cyA9IHNpYmxpbmdzKGNvbnRhaW5lckVsZW1lbnQpO1xuXG4gICAgICAgIHJlc3VsdCA9IHBhcmVudEVsZW1lbnRzLnJlZHVjZShcbiAgICAgICAgICAgIChsaXN0LCBwKSA9PiBsaXN0LmNvbmNhdChzaWJsaW5nRWxlbWVudHMuZmlsdGVyKHMgPT4gcyA9PT0gcCkpLFxuICAgICAgICAgICAgW11cbiAgICAgICAgKVswXTtcblxuICAgICAgICBpZiAocmVzdWx0KSB7IGJyZWFrOyB9XG5cbiAgICAgICAgY29udGFpbmVyRWxlbWVudCA9IGNvbnRhaW5lckVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuIiwiaW1wb3J0IHBhcmVudHMgZnJvbSAnLi9wYXJlbnRzJztcbmltcG9ydCBzaWJsaW5nQ29udGFpbmVyIGZyb20gJy4vc2libGluZy1jb250YWluZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB6SW5kZXgoYW5jaG9yLCBjb250YWluZXIpIHtcbiAgICBpZiAoIWFuY2hvciB8fCAhY29udGFpbmVyKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICBjb25zdCBzaWJsaW5nID0gc2libGluZ0NvbnRhaW5lcihhbmNob3IsIGNvbnRhaW5lcik7XG5cbiAgICBpZiAoIXNpYmxpbmcpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IFsgYW5jaG9yIF0uY29uY2F0KHBhcmVudHMoYW5jaG9yLCBzaWJsaW5nKSkucmVkdWNlKFxuICAgICAgICAoaW5kZXgsIHApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHpJbmRleFN0eWxlID0gcC5zdHlsZS56SW5kZXggfHwgd2luZG93LmdldENvbXB1dGVkU3R5bGUocCkuekluZGV4O1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHpJbmRleFN0eWxlLCAxMCk7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudCA+IGluZGV4ID8gY3VycmVudCA6IGluZGV4O1xuICAgICAgICB9LFxuICAgICAgICAwXG4gICAgKTtcblxuICAgIHJldHVybiByZXN1bHQgPyAocmVzdWx0ICsgMSkgOiBudWxsO1xufSIsIlxuY29uc3QgZWl0aGVyUmVjdCA9IChyZWN0LCBvZmZzZXQpID0+IHtcbiAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgcmV0dXJuIHsgaGVpZ2h0OiAwLCBsZWZ0OiBvZmZzZXQubGVmdCwgdG9wOiBvZmZzZXQudG9wLCB3aWR0aDogMCB9O1xuICAgIH1cblxuICAgIHJldHVybiByZWN0O1xufTtcblxuY29uc3Qgc2NhbGVSZWN0ID0gKHJlY3QsIHNjYWxlKSA9PiB7XG4gICAgaWYgKCFyZWN0IHx8IHNjYWxlID09PSAxKSB7XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQgLyBzY2FsZSxcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0IC8gc2NhbGUsXG4gICAgICAgIHRvcDogcmVjdC50b3AgLyBzY2FsZSxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGggLyBzY2FsZVxuICAgIH07XG59O1xuXG5jb25zdCByZW1vdmVTdGFja2luZ09mZnNldCA9IChyZWN0LCBzdGFja2luZ09mZnNldCkgPT4ge1xuICAgIGlmICghc3RhY2tpbmdPZmZzZXQpIHsgcmV0dXJuIHJlY3Q7IH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gc3RhY2tpbmdPZmZzZXQubGVmdCxcbiAgICAgICAgdG9wOiByZWN0LnRvcCAtIHN0YWNraW5nT2Zmc2V0LnRvcCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIG1lbW9pemUoZnVuKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG5cbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdCA9IGZ1biguLi5hcmdzKTtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuXG5jb25zdCBoYXNSZWxhdGl2ZVN0YWNraW5nQ29udGV4dCA9IG1lbW9pemUoKGVsZW1lbnRTb3VyY2UpID0+IHtcbiAgICBpZiAoIWNhblVzZURPTSgpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgLy8gQ29tcG9uZW50IG5lZWQgdG8gcGFzcyBlbGVtZW50IHRvIG1ha2Ugc3VyZSBkb2N1bWVudCBvd25lciBpcyBjb3JyZWN0LlxuICAgIC8vIFRoaXMgaG93ZXZlciBtaWdodCBiZSBwZXJmb3JtYW5jZSBoaXQgaWYgY2hlY2tlZCBmb3IgZXhhbXBsZSBvbiBlYWNoIGRyYWcgZXZlbnQuXG4gICAgY29uc3QgY3VycmVudERvY3VtZW50ID0gZWxlbWVudFNvdXJjZSA/IGVsZW1lbnRTb3VyY2Uub3duZXJEb2N1bWVudCA6IGRvY3VtZW50O1xuXG4gICAgaWYgKCFjdXJyZW50RG9jdW1lbnQgfHwgIWN1cnJlbnREb2N1bWVudC5ib2R5KSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgY29uc3QgdG9wID0gMTA7XG4gICAgY29uc3QgcGFyZW50ID0gY3VycmVudERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwibWF0cml4KDEwLCAwLCAwLCAxMCwgMCwgMClcIjtcbiAgICBwYXJlbnQuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogJHt0b3B9cHg7XCI+Y2hpbGQ8L2Rpdj5gO1xuXG4gICAgY3VycmVudERvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFyZW50KTtcblxuICAgIGNvbnN0IGlzRGlmZmVyZW50ID0gcGFyZW50LmNoaWxkcmVuWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAhPT0gdG9wO1xuXG4gICAgY3VycmVudERvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocGFyZW50KTtcblxuICAgIHJldHVybiBpc0RpZmZlcmVudDtcbn0pO1xuXG5jb25zdCBjYW5Vc2VET00gPSAoKSA9PiBCb29sZWFuKFxuICAgIC8vIGZyb20gZmJqc1xuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgd2luZG93LmRvY3VtZW50ICYmXG4gICAgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcbik7XG5cbmNvbnN0IHV0aWxzID0ge1xuICAgIGVpdGhlclJlY3QsXG4gICAgc2NhbGVSZWN0LFxuICAgIHJlbW92ZVN0YWNraW5nT2Zmc2V0LFxuICAgIGhhc1JlbGF0aXZlU3RhY2tpbmdDb250ZXh0LFxuICAgIGNhblVzZURPTVxufTtcblxuZXhwb3J0IGRlZmF1bHQgdXRpbHM7IiwiLyogZXNsaW50LWRpc2FibGUgYXJyb3ctYm9keS1zdHlsZSAqL1xuaW1wb3J0IGFkZFNjcm9sbCBmcm9tIFwiLi9hZGQtc2Nyb2xsXCI7XG5pbXBvcnQgYWxpZ24gZnJvbSAnLi9hbGlnbic7XG5pbXBvcnQgYm91bmRpbmdPZmZzZXQgZnJvbSAnLi9ib3VuZGluZy1vZmZzZXQnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHJlbW92ZVNjcm9sbCBmcm9tICcuL3JlbW92ZS1zY3JvbGwnO1xuaW1wb3J0IHJlc3RyaWN0VG9WaWV3IGZyb20gJy4vcmVzdHJpY3QtdG8tdmlldyc7XG5pbXBvcnQgc2Nyb2xsUG9zaXRpb24gZnJvbSAnLi9zY3JvbGwtcG9zaXRpb24nO1xuaW1wb3J0IG9mZnNldEJhc2UgZnJvbSAnLi9vZmZzZXQnO1xuaW1wb3J0IHBvc2l0aW9uV2l0aFNjcm9sbCBmcm9tICcuL3Bvc2l0aW9uLXdpdGgtc2Nyb2xsJztcbmltcG9ydCB3aW5kb3dWaWV3UG9ydCBmcm9tICcuL3dpbmRvdy12aWV3cG9ydCc7XG5pbXBvcnQgc2libGluZ0NvbnRhaW5lciBmcm9tICcuL3NpYmxpbmctY29udGFpbmVyJztcbmltcG9ydCBwYXJlbnRzIGZyb20gJy4vcGFyZW50cyc7XG5cbmNvbnN0IFNUWUxFUyA9IFtcbiAgICAnZm9udC1zaXplJyxcbiAgICAnZm9udC1mYW1pbHknLFxuICAgICdmb250LXN0cmV0Y2gnLFxuICAgICdmb250LXN0eWxlJyxcbiAgICAnZm9udC13ZWlnaHQnLFxuICAgICdsaW5lLWhlaWdodCdcbl07XG5cbmNvbnN0IGFkZE9mZnNldCA9IChjdXJyZW50LCBhZGRpdGlvbikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGN1cnJlbnQubGVmdCArIGFkZGl0aW9uLmxlZnQsXG4gICAgICAgIHRvcDogY3VycmVudC50b3AgKyBhZGRpdGlvbi50b3BcbiAgICB9O1xufTtcblxuY29uc3QgZ2V0V2luZG93ID0gKCkgPT4ge1xuICAgIHJldHVybiB1dGlscy5jYW5Vc2VET00oKSA/IHdpbmRvdyA6IG51bGw7XG59O1xuXG5jb25zdCBnZXRGb250U3R5bGVzID0gKGVsKSA9PiB7XG4gICAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG5cbiAgICBpZiAoIXdpbmRvdyB8fCAhZWwpIHsgcmV0dXJuIFtdOyB9XG5cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcblxuICAgIHJldHVybiBTVFlMRVMubWFwKGZvbnQgPT4gKHsga2V5OiBmb250LCB2YWx1ZTogY29tcHV0ZWRTdHlsZXNbZm9udF0gfSkpO1xufTtcblxuY29uc3QgaGFzT2Zmc2V0UGFyZW50ID0gKGVsKSA9PiB7XG4gICAgaWYgKCFlbCkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgIHJldHVybiBCb29sZWFuKGVsLm9mZnNldFBhcmVudCk7XG59O1xuXG5jb25zdCBvZmZzZXQgPSAoZWwpID0+IHtcbiAgICBpZiAoIWVsKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICByZXR1cm4gb2Zmc2V0QmFzZShlbCk7XG59O1xuXG5jb25zdCBvZmZzZXRBdFBvaW50ID0gKGVsZW1lbnQsIGN1cnJlbnRMb2NhdGlvbikgPT4ge1xuICAgIGlmICghZWxlbWVudCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgY29uc3QgeyBsZWZ0LCB0b3AsIHRyYW5zaXRpb24gfSA9IGVsZW1lbnQuc3R5bGU7XG5cbiAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7Y3VycmVudExvY2F0aW9uLmxlZnR9cHhgO1xuICAgIGVsZW1lbnQuc3R5bGUudG9wID0gYCR7Y3VycmVudExvY2F0aW9uLnRvcH1weGA7XG5cbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0ID0gb2Zmc2V0QmFzZShlbGVtZW50KTtcblxuICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgZWxlbWVudC5zdHlsZS50b3AgPSB0b3A7XG5cbiAgICAvLyBwcmV2ZW50cyBlbGVtZW50cyB3aXRoIHRyYW5zaXRpb24gdG8gYmUgYW5pbWF0ZWQgYmVjYXVzZSBvZiB0aGUgY2hhbmdlXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXVudXNlZC1leHByZXNzaW9uXG4gICAgZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG5cbiAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuXG4gICAgcmV0dXJuIGN1cnJlbnRPZmZzZXQ7XG59O1xuXG5jb25zdCBwb3NpdGlvbiA9IChlbGVtZW50LCBwb3B1cEVsZW1lbnQsIHNjYWxlKSA9PiB7XG4gICAgaWYgKCFlbGVtZW50IHx8ICFwb3B1cEVsZW1lbnQpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgIGNvbnN0IGN1cnJlbnRTY2FsZSA9IHNjYWxlIHx8IDE7XG5cbiAgICByZXR1cm4gcG9zaXRpb25XaXRoU2Nyb2xsKGVsZW1lbnQsIHBvcHVwRWxlbWVudCwgY3VycmVudFNjYWxlKTtcbn07XG5cbmNvbnN0IE9WRVJGTE9XX1JFR0VYUCA9IC9hdXRvfHNjcm9sbC87XG5cbmNvbnN0IG92ZXJmbG93RWxlbWVudFN0eWxlID0gKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gYCR7ZWxlbWVudC5zdHlsZS5vdmVyZmxvd30ke2VsZW1lbnQuc3R5bGUub3ZlcmZsb3dYfSR7ZWxlbWVudC5zdHlsZS5vdmVyZmxvd1l9YDtcbn07XG5cbmNvbnN0IG92ZXJmbG93Q29tcHV0ZWRTdHlsZSA9IChlbGVtZW50KSA9PiB7XG4gICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgcmV0dXJuIGAke3N0eWxlcy5vdmVyZmxvd30ke3N0eWxlcy5vdmVyZmxvd1h9JHtzdHlsZXMub3ZlcmZsb3dZfWA7XG59O1xuXG5jb25zdCBvdmVyZmxvd1N0eWxlID0gKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gb3ZlcmZsb3dFbGVtZW50U3R5bGUoZWxlbWVudCkgfHwgb3ZlcmZsb3dDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xufTtcblxuY29uc3Qgc2Nyb2xsYWJsZVBhcmVudHMgPSAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudEVsZW1lbnRzID0gW107XG5cbiAgICBpZiAoIXV0aWxzLmNhblVzZURPTSgpKSB7IHJldHVybiBwYXJlbnRFbGVtZW50czsgfVxuXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcblxuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKE9WRVJGTE9XX1JFR0VYUC50ZXN0KG92ZXJmbG93U3R5bGUocGFyZW50KSkgfHwgcGFyZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS1zY3JvbGxhYmxlJykpIHtcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnRzLnB1c2gocGFyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cblxuICAgIHBhcmVudEVsZW1lbnRzLnB1c2god2luZG93KTtcblxuICAgIHJldHVybiBwYXJlbnRFbGVtZW50cztcbn07XG5cbmNvbnN0IGdldFJlbGF0aXZlQ29udGV4dEVsZW1lbnQgPSAoZWwpID0+IHtcbiAgICBpZiAoIWVsIHx8ICF1dGlscy5oYXNSZWxhdGl2ZVN0YWNraW5nQ29udGV4dCgpKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICBsZXQgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDtcblxuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudCkudHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBzdGFja2luZ0VsZW1lbnRPZmZzZXQgPSAoZWwpID0+IHtcbiAgICBjb25zdCByZWxhdGl2ZUNvbnRleHRFbGVtZW50ID0gZ2V0UmVsYXRpdmVDb250ZXh0RWxlbWVudChlbCk7XG5cbiAgICBpZiAoIXJlbGF0aXZlQ29udGV4dEVsZW1lbnQpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgIHJldHVybiBvZmZzZXRCYXNlKHJlbGF0aXZlQ29udGV4dEVsZW1lbnQpO1xufTtcblxuY29uc3Qgc3RhY2tpbmdFbGVtZW50U2Nyb2xsID0gKGVsKSA9PiB7XG4gICAgY29uc3QgcmVsYXRpdmVDb250ZXh0RWxlbWVudCA9IGdldFJlbGF0aXZlQ29udGV4dEVsZW1lbnQoZWwpO1xuXG4gICAgaWYgKCFyZWxhdGl2ZUNvbnRleHRFbGVtZW50KSB7IHJldHVybiB7IHg6IDAsIHk6IDAgfTsgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcmVsYXRpdmVDb250ZXh0RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICB5OiByZWxhdGl2ZUNvbnRleHRFbGVtZW50LnNjcm9sbFRvcFxuICAgIH07XG59O1xuXG5jb25zdCBzdGFja2luZ0VsZW1lbnRWaWV3UG9ydCA9IChlbCkgPT4ge1xuICAgIGNvbnN0IHJlbGF0aXZlQ29udGV4dEVsZW1lbnQgPSBnZXRSZWxhdGl2ZUNvbnRleHRFbGVtZW50KGVsKTtcblxuICAgIGlmICghcmVsYXRpdmVDb250ZXh0RWxlbWVudCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiByZWxhdGl2ZUNvbnRleHRFbGVtZW50LnNjcm9sbEhlaWdodCxcbiAgICAgICAgd2lkdGg6IHJlbGF0aXZlQ29udGV4dEVsZW1lbnQuc2Nyb2xsV2lkdGhcbiAgICB9O1xufTtcblxuY29uc3QgdXNlUmVsYXRpdmVQb3NpdGlvbiA9IChlbCkgPT4ge1xuICAgIHJldHVybiBCb29sZWFuKGdldFJlbGF0aXZlQ29udGV4dEVsZW1lbnQoZWwpKTtcbn07XG5cbmNvbnN0IHpvb21MZXZlbCA9ICgpID0+IHtcbiAgICBpZiAoIXV0aWxzLmNhblVzZURPTSgpKSB7IHJldHVybiAxOyB9XG5cbiAgICByZXR1cm4gcGFyc2VGbG9hdCgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIC8gd2luZG93LmlubmVyV2lkdGgpLnRvRml4ZWQoMikpIHx8IDE7XG59O1xuXG5jb25zdCBpc1pvb21lZCA9ICgpID0+IHtcbiAgICByZXR1cm4gem9vbUxldmVsKCkgPiAxO1xufTtcblxuY29uc3QgekluZGV4ID0gKGFuY2hvciwgY29udGFpbmVyKSA9PiB7XG4gICAgaWYgKCFhbmNob3IgfHwgIXV0aWxzLmNhblVzZURPTSgpKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICBjb25zdCBzaWJsaW5nID0gc2libGluZ0NvbnRhaW5lcihhbmNob3IsIGNvbnRhaW5lcik7XG5cbiAgICBpZiAoIXNpYmxpbmcpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IFsgYW5jaG9yIF0uY29uY2F0KHBhcmVudHMoYW5jaG9yLCBzaWJsaW5nKSkucmVkdWNlKFxuICAgICAgICAoaW5kZXgsIHApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHpJbmRleFN0eWxlID0gcC5zdHlsZS56SW5kZXggfHwgd2luZG93LmdldENvbXB1dGVkU3R5bGUocCkuekluZGV4O1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHBhcnNlSW50KHpJbmRleFN0eWxlLCAxMCk7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudCA+IGluZGV4ID8gY3VycmVudCA6IGluZGV4O1xuICAgICAgICB9LFxuICAgICAgICAwXG4gICAgKTtcblxuICAgIHJldHVybiByZXN1bHQgPyAocmVzdWx0ICsgMSkgOiBudWxsO1xufTtcblxuY29uc3QgZG9tVXRpbHMgPSB7XG4gICAgYWRkT2Zmc2V0LFxuICAgIGFkZFNjcm9sbCxcbiAgICBhbGlnbixcbiAgICBib3VuZGluZ09mZnNldCxcbiAgICBnZXRGb250U3R5bGVzLFxuICAgIGdldFdpbmRvdyxcbiAgICBoYXNPZmZzZXRQYXJlbnQsXG4gICAgb2Zmc2V0LFxuICAgIG9mZnNldEF0UG9pbnQsXG4gICAgcG9zaXRpb24sXG4gICAgcmVtb3ZlU2Nyb2xsLFxuICAgIHJlc3RyaWN0VG9WaWV3LFxuICAgIHNjcm9sbFBvc2l0aW9uLFxuICAgIHNjcm9sbGFibGVQYXJlbnRzLFxuICAgIGdldFJlbGF0aXZlQ29udGV4dEVsZW1lbnQsXG4gICAgc3RhY2tpbmdFbGVtZW50T2Zmc2V0LFxuICAgIHN0YWNraW5nRWxlbWVudFNjcm9sbCxcbiAgICBzdGFja2luZ0VsZW1lbnRWaWV3UG9ydCxcbiAgICB1c2VSZWxhdGl2ZVBvc2l0aW9uLFxuICAgIHdpbmRvd1ZpZXdQb3J0LFxuICAgIHpvb21MZXZlbCxcbiAgICBpc1pvb21lZCxcbiAgICB6SW5kZXhcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRvbVV0aWxzO1xuIiwiLyogZXNsaW50LWRpc2FibGUgYXJyb3ctYm9keS1zdHlsZSAqL1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgZG9tVXRpbHMgZnJvbSBcIi4vZG9tLXV0aWxzXCI7XG5cbmNvbnN0IGFic29sdXRlUmVjdCA9IChhbmNob3IsIGVsZW1lbnQsIG9mZnNldCwgc2NhbGUpID0+IHtcbiAgICBjb25zdCBzY3JvbGxQb3MgPSBlbGVtZW50U2Nyb2xsUG9zaXRpb24oYW5jaG9yLCBlbGVtZW50KTtcbiAgICBjb25zdCByZWN0ID0gdXRpbHMuZWl0aGVyUmVjdChkb21VdGlscy5vZmZzZXQoYW5jaG9yKSwgb2Zmc2V0KTtcbiAgICBjb25zdCBzdGFja1NjYWxlID0gMiAqIHNjYWxlO1xuXG4gICAgY29uc3Qgc3RhY2tTY3JvbGwgPSBkb21VdGlscy5zdGFja2luZ0VsZW1lbnRTY3JvbGwoZWxlbWVudCk7XG4gICAgaWYgKHNjYWxlICE9PSAxICYmIHN0YWNrU2Nyb2xsKSB7XG4gICAgICAgIHN0YWNrU2Nyb2xsLnggLz0gc3RhY2tTY2FsZTtcbiAgICAgICAgc3RhY2tTY3JvbGwueSAvPSBzdGFja1NjYWxlO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YWNrT2Zmc2V0ID0gZG9tVXRpbHMuc3RhY2tpbmdFbGVtZW50T2Zmc2V0KGVsZW1lbnQpO1xuICAgIGlmIChzY2FsZSAhPT0gMSAmJiBzdGFja09mZnNldCkge1xuICAgICAgICBzdGFja09mZnNldC5sZWZ0IC89IHN0YWNrU2NhbGU7XG4gICAgICAgIHN0YWNrT2Zmc2V0LnRvcCAvPSBzdGFja1NjYWxlO1xuICAgIH1cblxuICAgIHJldHVybiBkb21VdGlscy5yZW1vdmVTY3JvbGwoXG4gICAgICAgIGRvbVV0aWxzLmFkZFNjcm9sbChcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZVN0YWNraW5nT2Zmc2V0KFxuICAgICAgICAgICAgICAgIHV0aWxzLnNjYWxlUmVjdChyZWN0LCBzY2FsZSksXG4gICAgICAgICAgICAgICAgc3RhY2tPZmZzZXRcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBzdGFja1Njcm9sbFxuICAgICAgICApLFxuICAgICAgICBzY3JvbGxQb3NcbiAgICApO1xufTtcblxuY29uc3QgcmVsYXRpdmVSZWN0ID0gKGFuY2hvciwgZWxlbWVudCwgb2Zmc2V0LCBzY2FsZSkgPT4ge1xuICAgIGNvbnN0IHJlY3QgPSB1dGlscy5laXRoZXJSZWN0KGRvbVV0aWxzLnBvc2l0aW9uKGFuY2hvciwgZWxlbWVudCwgc2NhbGUpLCBvZmZzZXQpO1xuICAgIHJldHVybiB1dGlscy5zY2FsZVJlY3QocmVjdCwgc2NhbGUpO1xufTtcblxuY29uc3QgZWxlbWVudFNjcm9sbFBvc2l0aW9uID0gKGFuY2hvciwgZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBhbmNob3IgPyB7IHg6IDAsIHk6IDAgfSA6IGRvbVV0aWxzLnNjcm9sbFBvc2l0aW9uKGVsZW1lbnQpO1xufTtcblxuY29uc3QgYWxpZ25FbGVtZW50ID0gKHNldHRpbmdzKSA9PiB7XG4gICAgY29uc3QgeyBhbmNob3IsIGVsZW1lbnQsIGFuY2hvckFsaWduLCBlbGVtZW50QWxpZ24sIG1hcmdpbiwgb2Zmc2V0LCBwb3NpdGlvbk1vZGUsIHNjYWxlIH0gPSBzZXR0aW5ncztcblxuICAgIGNvbnN0IGN1cnJlbnRTY2FsZSA9IHNjYWxlIHx8IDE7XG4gICAgY29uc3QgZml4ZWRNb2RlID0gcG9zaXRpb25Nb2RlID09PSAnZml4ZWQnIHx8ICFkb21VdGlscy5oYXNPZmZzZXRQYXJlbnQoZWxlbWVudCk7XG4gICAgY29uc3QgYW5jaG9yUmVjdCA9IGZpeGVkTW9kZSA/IGFic29sdXRlUmVjdChhbmNob3IsIGVsZW1lbnQsIG9mZnNldCwgY3VycmVudFNjYWxlKSA6IHJlbGF0aXZlUmVjdChhbmNob3IsIGVsZW1lbnQsIG9mZnNldCwgY3VycmVudFNjYWxlKTtcbiAgICBjb25zdCBlbGVtZW50UmVjdCA9IHV0aWxzLnNjYWxlUmVjdChkb21VdGlscy5vZmZzZXQoZWxlbWVudCksIGN1cnJlbnRTY2FsZSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBkb21VdGlscy5hbGlnbih7XG4gICAgICAgIGFuY2hvckFsaWduOiBhbmNob3JBbGlnbixcbiAgICAgICAgYW5jaG9yUmVjdDogYW5jaG9yUmVjdCxcbiAgICAgICAgZWxlbWVudEFsaWduOiBlbGVtZW50QWxpZ24sXG4gICAgICAgIGVsZW1lbnRSZWN0OiBlbGVtZW50UmVjdCxcbiAgICAgICAgbWFyZ2luXG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYWxpZ25FbGVtZW50O1xuIiwiaW1wb3J0IHV0aWxzIGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgZG9tVXRpbHMgZnJvbSBcIi4vZG9tLXV0aWxzXCI7XG5cbmNvbnN0IHBvc2l0aW9uRWxlbWVudCA9IChzZXR0aW5ncykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGFuY2hvckFsaWduLFxuICAgICAgICBlbGVtZW50QWxpZ24sXG4gICAgICAgIGNvbGxpc2lvbnMsXG4gICAgICAgIG1hcmdpbixcbiAgICAgICAgc2NhbGVcbiAgICB9ID0gc2V0dGluZ3M7XG5cbiAgICBjb25zdCBjdXJyZW50U2NhbGUgPSBzY2FsZSB8fCAxO1xuICAgIGNvbnN0IGVsZW1lbnRPZmZzZXQgPSBkb21VdGlscy5vZmZzZXRBdFBvaW50KGVsZW1lbnQsIGN1cnJlbnRMb2NhdGlvbik7XG4gICAgY29uc3QgZWxlbWVudFJlY3QgPSB1dGlscy5zY2FsZVJlY3QoZWxlbWVudE9mZnNldCwgY3VycmVudFNjYWxlKTtcbiAgICBjb25zdCBhbmNob3JPZmZzZXQgPSB1dGlscy5zY2FsZVJlY3QoZG9tVXRpbHMub2Zmc2V0KGFuY2hvciksIGN1cnJlbnRTY2FsZSk7XG4gICAgY29uc3QgYW5jaG9yUmVjdCA9IHV0aWxzLmVpdGhlclJlY3QoYW5jaG9yT2Zmc2V0LCBjdXJyZW50TG9jYXRpb24pO1xuXG4gICAgY29uc3Qgdmlld1BvcnQgPSBzZXR0aW5ncy52aWV3UG9ydCB8fCBkb21VdGlscy53aW5kb3dWaWV3UG9ydChlbGVtZW50KTtcbiAgICB2aWV3UG9ydC53aWR0aCA9IHZpZXdQb3J0LndpZHRoIC8gY3VycmVudFNjYWxlO1xuICAgIHZpZXdQb3J0LmhlaWdodCA9IHZpZXdQb3J0LmhlaWdodCAvIGN1cnJlbnRTY2FsZTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGRvbVV0aWxzLnJlc3RyaWN0VG9WaWV3KHtcbiAgICAgICAgYW5jaG9yQWxpZ24sXG4gICAgICAgIGFuY2hvclJlY3QsXG4gICAgICAgIGNvbGxpc2lvbnMsXG4gICAgICAgIGVsZW1lbnRBbGlnbixcbiAgICAgICAgZWxlbWVudFJlY3QsXG4gICAgICAgIG1hcmdpbixcbiAgICAgICAgdmlld1BvcnRcbiAgICB9KTtcblxuICAgIGNvbnN0IG9mZnNldCA9IGRvbVV0aWxzLmFkZE9mZnNldChjdXJyZW50TG9jYXRpb24sIHJlc3VsdC5vZmZzZXQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmxpcDogcmVzdWx0LmZsaXAsXG4gICAgICAgIGZsaXBwZWQ6IHJlc3VsdC5mbGlwcGVkLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwb3NpdGlvbkVsZW1lbnQ7Il0sIm5hbWVzIjpbImNvbnN0IiwibGV0IiwicG9pbnQiLCJ3bmQiLCJkb2N1bWVudEVsZW1lbnQiLCJkb2NFbGVtZW50Iiwib2Zmc2V0Iiwib2Zmc2V0UmVjdCIsImdldFdpbmRvdyIsIm9mZnNldEJhc2UiLCJwb3NpdGlvbiIsInpJbmRleCIsIndpbmRvd1ZpZXdQb3J0IiwiZWxlbWVudFNjcm9sbFBvc2l0aW9uIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUJBQWU7SUFDWCxRQUFRLEVBQUUsUUFBUTtJQUNsQixRQUFRLEVBQUUsUUFBUTtJQUNsQixRQUFRLEVBQUUsUUFBUTtJQUNsQixNQUFNLEVBQUUsTUFBTTtJQUNkLE9BQU8sRUFBRSxPQUFPO0lBQ2hCLEtBQUssRUFBRSxLQUFLO0NBQ2YsQ0FBQzs7QUNMRkEsSUFBTSxLQUFLLEdBQUcsVUFBQyxPQUFPLEVBQUU7SUFDcEIsSUFBUSxVQUFVO0lBQUUsSUFBQSxXQUFXO0lBQUUsSUFBQSxXQUFXO0lBQUUsSUFBQSxZQUFZO0lBQVcsK0RBQUEsRUFBRSxDQUFqRTtJQUNOQSxJQUFNLGdCQUFnQixHQUFHLFdBQVcsQ0FBQyxVQUFVLENBQUM7SUFDaERBLElBQU0sY0FBYyxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUM7SUFDNUNBLElBQU0saUJBQWlCLEdBQUcsWUFBWSxDQUFDLFVBQVUsQ0FBQztJQUNsREEsSUFBTSxlQUFlLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQzs7SUFFOUNDLElBQUksZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQUM7SUFDOUNBLElBQUksY0FBYyxHQUFHLE1BQU0sQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDOztJQUUxQ0EsSUFBSSxHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQztJQUN6QkEsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQzs7SUFFM0Is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